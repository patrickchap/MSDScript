<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: User Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md___users_patrickchapple__m_s_d_script_repo__m_s_d_script_build_src_test_src__user__guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">User Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Command line</h1>
<p>When using the command line the parser follows the following grammar. The command line will have three run modes. When ./MSDScript is run with no flags then it will run in inerp mode. This will create an expression from the input, and interpet that expression to a value. The second mode is opt mode which can be run by adding the "-opt" flag. This will optimize the expression to a simplified expression. The final mode can be run by adding the -step flag. This will interpret the expression using continuations.</p>
<pre class="fragment">〈expr〉 = 〈comparg〉

    | 〈comparg〉 == 〈expr〉

〈comparg〉 = 〈addend〉

    | 〈addend〉 + 〈comparg〉

〈addend〉 = 〈multicand〉
    | 〈multicand〉 * 〈addend〉

〈multicand〉 = 〈inner〉
    | 〈multicand〉 ( 〈expr〉 )

〈inner〉 = 〈number〉
    | ( 〈expr〉 )
    | 〈variable〉
    | _let 〈variable〉 = 〈expr〉 _in 〈expr〉
    | _true
    | _false
    | _if 〈expr〉 _then 〈expr〉 _else 〈expr〉
    | _fun ( 〈variable〉 ) 〈expr〉
</pre><p>Syntax and Expressions:</p>
<p>In the terminal, the parser will take the input and build an expression if the syntax is correct. If there is an error in the syntax the program will exit with an error message. Below is the valid expressions and the syntax the parser will expect. Once the input is given, to run the interpreter type control d.</p>
<p><a class="el" href="class_number_expr.html">NumberExpr</a> - msdcript will take any 4 byte integer </p><pre class="fragment">Example1: 

    100   

Example2:

    -5
</pre><p><a class="el" href="class_bool_expr.html">BoolExpr</a> - true and false </p><pre class="fragment">Example1: 

    _true

Example2:

    _false
</pre><p><a class="el" href="class_variable_expr.html">VariableExpr</a> - variables in msdscript are any alpah characters. Any char from a - Z is acceptable. </p><pre class="fragment">Example1:

    x

Example2:

    variable

Bad Examples:

    !var

    bad_example

    anotherBadExample3
</pre><p><a class="el" href="class_add_expr.html">AddExpr</a> - this is the result of adding two expressions. </p><pre class="fragment">Example:

1 + 2

or

3 + -1

or 

3 + x

note: if x is a free variable it will throw an error. To bind a variable such as x you will need a letExpr or funExpr, which are described below.
</pre><p><a class="el" href="class_mult_expr.html">MultExpr</a> - This expression represents the multiplication of two expressions.</p>
<pre class="fragment">Example:

1 * 2

or

3 * -1

or 

3 * x

note: if x is a free variable it will throw an error. To bind a variable such as x you will need a letExpr or funExpr, which are described below.    
</pre><p><a class="el" href="class_let_expr.html">LetExpr</a> - A let expression allows us to bind variables to an expression let expressions follow this syntax _let 〈VariableExpr〉 = 〈expr〉 _in 〈expr〉where expr can be any expression in this section </p><pre class="fragment">Example: 

_let x = 5 _in x + x


the x's in the _in will be bound to 5 this will result in 10 when interpreted. The variable will only be bound to the _let it follows.

_let x = 5 _in x + x + _let x = 2 _in x 

the second _in will be bound by the second let. This means when this LetExpr gets interpreted the value will be 12.
</pre><p><a class="el" href="class_if_expr.html">IfExpr</a> - allows the user to create conditional expressions by following the syntax _if 〈expr〉 _then 〈expr〉 _else 〈expr〉 </p><pre class="fragment">Example:

_if 3 == 3 _then 1 _else 2


This will compare 3 to 3, if that is true 1 this expression will be interpreted to 1 else 2.
</pre><p><a class="el" href="class_equals_equals_expr.html">EqualsEqualsExpr</a> - This expression is used to compare and expression agains another expression and follows the syntax 〈comparg〉 == 〈expr〉 where a comparge is equal to an expr </p><pre class="fragment">Example:

3 == 3


x == 3

3 == 1 + 2  which will be interpreted as 3 == (1+2)
</pre><p><a class="el" href="class_fun_expr.html">FunExpr</a> - represents a function in MSDScript and follows the syntax _fun ( 〈variable〉 ) 〈expr〉 </p><pre class="fragment">Example:

_fun (x) x + 1

To call an expression you can bound the x with a letExpr
</pre><p><a class="el" href="class_call_expr.html">CallExpr</a> - used to call a function. The syntax for a call expression is 〈expr〉 ( 〈expr〉 ) </p><pre class="fragment">Example:

f(10)

One way to call a function:

_let f = _fun (x) x + 1 _in f(10)

The call expression is f(10). f will be bound to the f following the _let. When this gets interpreted the f in the CallExpr with be replaced with x + 1 and will be called with the 10 and the output will be 11.
</pre><p>All of these expressions can be used to create more complex expressions. </p><pre class="fragment">Example:

_let factrl = _fun (factrl) _fun (x) _if x == 1 _then 1 _else x * factrl(factrl)(x + -1) _in factrl(factrl)(5)

This is an example of writing a recursive factorial function and passing it 5.


_let fib = _fun (fib) _fun (x) _if x == 0 _then 1 _else _if x == 2 + -1 _then 1 _else fib(fib)(x + -1) + fib(fib)(x + -2) _in fib(fib)(10)

This is an example of a recursive fibinacci function to find the 10th fib number.
</pre><h1><a class="anchor" id="autotoc_md2"></a>
Embed MSDScript</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Overview</h2>
<p>MSDScript can also be embed into an applicated. Instructions for building a statit library can be found at <a href="https://github.com/patrickchap/MSDScript">MSDScript</a> in the README. When using this as a static libarary you will have have access to the following classes and subclasses.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Link to classes and subclasses.</h2>
<ul>
<li><a class="el" href="class_expr.html">Expr</a><ul>
<li>virtual methods:<ul>
<li>bool equals(PTR(Expr) e)</li>
<li>PTR(Val) interp(PTR(Env) env)</li>
<li>PTR(Expr) subst(std::string var, PTR(Val) value)</li>
<li>bool contains_variables ()</li>
<li>std::string to_string ()</li>
<li>PTR(Expr) optimize()</li>
<li>void step_interp ()</li>
</ul>
</li>
<li>sub classes:<ul>
<li><a class="el" href="class_add_expr.html">AddExpr</a></li>
<li><a class="el" href="class_bool_expr.html">BoolExpr</a></li>
<li><a class="el" href="class_call_expr.html">CallExpr</a></li>
<li><a class="el" href="class_equals_equals_expr.html">EqualsEqualsExpr</a></li>
<li><a class="el" href="class_fun_expr.html">FunExpr</a></li>
<li><a class="el" href="class_if_expr.html">IfExpr</a></li>
<li><a class="el" href="class_let_expr.html">LetExpr</a></li>
<li><a class="el" href="class_mult_expr.html">MultExpr</a></li>
<li><a class="el" href="class_number_expr.html">NumberExpr</a></li>
<li><a class="el" href="class_variable_expr.html">VariableExpr</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="class_step.html">Step</a><ul>
<li>methods:<ul>
<li>interp_by_steps()</li>
</ul>
</li>
<li>Public Types<ul>
<li>typedef enum { interp_mode, continue_mode } mode_t;</li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="class_val.html">Val</a><ul>
<li>virtual methods:<ul>
<li>bool equals(PTR(Val) val)</li>
<li>PTR(Val) add_to(PTR(Val) other_val)</li>
<li>PTR(Val) mult_with(PTR(Val) other_val)</li>
<li>PTR(Expr) to_expr()</li>
<li>std::string to_string()</li>
<li>bool is_true()</li>
<li>PTR(Val) call(PTR(Val) actual_arg)</li>
<li>void call_step(PTR(Val) actual_arg_val, PTR(Cont) rest)</li>
</ul>
</li>
<li>sub classes:<ul>
<li><a class="el" href="class_num_val.html">NumVal</a></li>
<li><a class="el" href="class_bool_val.html">BoolVal</a></li>
<li><a class="el" href="class_fun_val.html">FunVal</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="class_cont.html">Cont</a><ul>
<li>virtual methods:<ul>
<li>void step_continue()</li>
</ul>
</li>
<li>sub classes:<ul>
<li><a class="el" href="class_done_cont.html">DoneCont</a></li>
<li><a class="el" href="class_right_then_add_cont.html">RightThenAddCont</a></li>
<li><a class="el" href="class_add_cont.html">AddCont</a></li>
<li><a class="el" href="class_if_branch_cont.html">IfBranchCont</a></li>
<li><a class="el" href="class_right_then_mult_cont.html">RightThenMultCont</a></li>
<li><a class="el" href="class_mult_cont.html">MultCont</a></li>
<li><a class="el" href="class_right_then_equal_equal_cont.html">RightThenEqualEqualCont</a></li>
<li><a class="el" href="class_equal_equal_cont.html">EqualEqualCont</a></li>
<li><a class="el" href="class_let_body_cont.html">LetBodyCont</a></li>
<li><a class="el" href="class_arg_then_call_cont.html">ArgThenCallCont</a></li>
<li><a class="el" href="class_call_cont.html">CallCont</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="class_env.html">Env</a><ul>
<li>virtual methods:<ul>
<li>PTR(Val) lookup(std::string find_name)</li>
</ul>
</li>
<li>member variable<ul>
<li>PTR(Env) empty</li>
</ul>
</li>
<li>sub classes:<ul>
<li><a class="el" href="class_empty_env.html">EmptyEnv</a></li>
<li><a class="el" href="class_extended_env.html">ExtendedEnv</a></li>
</ul>
</li>
</ul>
</li>
<li>Free Function<ul>
<li>PTR(Expr) parse(std::istream &amp;in);</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Expr Examples:</h2>
<p>Making a <a class="el" href="class_number_expr.html">NumberExpr</a>: </p><pre class="fragment">NEW (NumberExpr)(1)
</pre><p>Making a <a class="el" href="class_variable_expr.html">VariableExpr</a>: </p><pre class="fragment">NEW (VariableExpr)("x")
</pre><p>Making a <a class="el" href="class_let_expr.html">LetExpr</a>: </p><pre class="fragment">NEW(LetExpr)("f",NEW(FunExpr)( "x",NEW(AddExpr)(NEW(VariableExpr)("x"), NEW(NumberExpr)(1))), NEW(CallExpr)(NEW(VariableExpr)("f"), NEW(NumberExpr)(10)))
</pre><p>Making a <a class="el" href="class_call_expr.html">CallExpr</a>: </p><pre class="fragment">NEW (CallExpr)(NEW (NumberExpr)(1), NEW (NumberExpr)(2)))
</pre><p>Making a <a class="el" href="class_fun_expr.html">FunExpr</a>: </p><pre class="fragment">(NEW (FunExpr)("x", NEW (AddExpr)(NEW (NumberExpr)(1), NEW (NumberExpr)(1))))
</pre><p>Interp <a class="el" href="class_expr.html">Expr</a>: </p><pre class="fragment">    Here is an example of using interp for a AddExpr:

        NEW(AddExpr)(NEW(NumberExpr)(3), NEW(NumberExpr)(1)))-&gt;interp(NEW(EmptyEnv)())
</pre><p>Subst <a class="el" href="class_expr.html">Expr</a>: </p><pre class="fragment">Subs takes a variable (string) and Val. It will try to substitute the variable or varaibles in the Expr that match the string. 

Here is example of subst with a CallExpr:

(NEW (CallExpr)(NEW (NumberExpr)(1), NEW (VariableExpr)("x")))
        -&gt;subst("x", NEW (NumVal)(10))

One exeption is in when subst is called with a FunExpr. In that case the string is checked agains the formal_arg in the FunExpr. If it does'nt match the body calls subs with the var and value. Else the FunExpr is returned.

(NEW (FunExpr)("x", NEW (AddExpr)(NEW (NumberExpr)(1), NEW (VariableExpr)("x"))))-&gt;subst("x", NEW (NumVal)(5))
        -&gt;equals((NEW (FunExpr)("x", NEW (AddExpr)(NEW (NumberExpr)(1), NEW (VariableExpr)("x")))))
</pre><h2><a class="anchor" id="autotoc_md6"></a>
Using Parse to creat an Expr</h2>
<p>Using Parse you can create an <a class="el" href="class_expr.html">Expr</a> from an std::istream as long as it follows the command line grammer <a href="# Command line">Parser Grammer</a></p>
<p>An Example of using parse: </p><pre class="fragment">std::istringstream in("3 + 5");

PTR(Expr) e = parse(in);

or take user input

PTR(Expr) e = parse(std::cin);
</pre><h2><a class="anchor" id="autotoc_md7"></a>
Val Examples:</h2>
<p>Creating a <a class="el" href="class_num_val.html">NumVal</a>: </p><pre class="fragment">(NEW (NumVal)(5))
</pre><p>Creating a <a class="el" href="class_bool_val.html">BoolVal</a>: </p><pre class="fragment">(NEW (BoolVal)(true) 

or 

(NEW (BoolVal)(false)
</pre><p>Creating a <a class="el" href="class_fun_val.html">FunVal</a>: </p><pre class="fragment">(NEW (FunVal)("x" , NEW (AddExpr)(NEW (NumberExpr)(1), NEW (VariableExpr)("x")), NEW(EmptyEnv)()))
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
